
\chapter{Referencial Teórico} \label{cap:funda}

\vspace{-2cm} %Deixar no formato certo, 1 'ENTER' após e a seção e 2 'ENTERs' antes da seção

Neste capítulo são apresentados os principais conceitos teóricos relacionados ao desenvolvimento deste trabalho.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\vspace{1cm}
\section{Robótica} \label{cap:rob_auto}
% Passar pra frente
A palavra ``Robô'' foi criada pelo escritor tcheco Karel Capek, sendo utilizada em sua peça 
\textit{Rossum's Universal Robots} (\sigla{RUR}{\textit{Rossum's Universal Robots}}), a qual foi 
encenada em 1921, em Praga. Na linguagem eslava, \textit{robota} significa atividade 
forçada ou escrava. Na peça de Capek, os robôs eram pessoas fabricadas artificialmente, ausentes
de emoção \cite{polonskii1996}.\par
A \textit{Robotic Industries Association} (\sigla{RIA}{\textit{Robotic Industries Association}}), 
entidade norte-americana responsável pela indústria de robótica, define um robô industrial como
 \textit{um manipulador multipropósito reprogramável, controlado automaticamente, programado em três 
 ou mais eixos, os quais podem ser fixos em um lugar ou móveis para aplicações em automação industrial} \cite{RIAdef}.
%\footnote{Fonte em \url{http://www.robotics.org/product-catalog-detail.cfm/productid/2953}. Acesso em: 15 agosto 2016}. 
%Diferentemente do que foi imaginado por Capek, hoje máquinas fazem o trabalho destes seres-humanos.
Diferentemente do que foi imaginado por Capek, são máquinas que realizam o trabalho.

%\begin{comment}
\citeonline{secchi2012} classifica os robôs em três tipos:
\begin{itemize}
 \item Industriais: São formados por estruturas mecâncias articuladas, as quais se movem pelas ordens de um sistema de 
 controle, normalmente um microcontrolador;
 \item Médicos: Também conhecidos como de cooperação ou reabilitação, são os utilizados em cirurgias de alta complexidade e 
 precisão, assim como as próteses inteligentes, que visam manter a aparência e funcionalidade do membro de pessoas com 
 deficiência.;
 \item Móveis: São plataformas mecânicas, que se locomovem através de um certo ambiente e apresentam certa autonomia.
São empregados principalmente em tarefas onde se tem risco à vida humana, como na manutenção de reatores nucleares ou 
exploração de 
minérios, mas também podem ser aplicados na agricultura e no transporte de cargas.
\end{itemize}


\vspace{1cm}
%\subsection{Robôs móveis}
\subsection{Robótica móvel}	


Mesmo que os robôs industriais apresentem alta precisão e velocidade, estes possuem uma grande desvantagem, que é a falta 
de mobilidade. %Algumas atividades necessitam que o dispositivo trafeguem através de uma planta industrial
Algumas atividades não seriam realizadas sem a utilização destes dispositivos, como a 
\textit{Mars Pathfinder}, missão exploratória da 
\sigla{NASA}{ \textit{National Aeronautics and Space Administration}} para o reconhecimento da atmosfera de Marte. O 
%veículo Sojourner (Figura \ref{fig:nasa}) que foi utilizado nesta missão, explorou o território marciano por 83 dias, 
veículo Sojourner (Figura \ref{fig:nasa}) que foi utilizado nesta missão, explorou o território marciano por oitenta e três dias, 
tirando fotografias e realizando 
medições do ambiente \cite{nasa}.

\begin{figure}[th]
 \centering
 \captionsetup{width=0.5\textwidth,font=footnotesize,textfont=bf}
 %\includegraphics[scale=0.6]{figuras/nasa.png}
 \includegraphics[scale=0.4]{figuras/nasa.png}
 \caption{Veículo exploratório Sojourner \label{fig:nasa}}
 \vspace{-0.3cm}
 %\caption*{Fonte: Disponível em \url{https://mars.jpl.nasa.gov/MPF/rover/sim2.jpg}.}
 \caption*{Fonte: Disponível em $<$https://mars.jpl.nasa.gov/MPF/rover/sim2.jpg$>$}
\end{figure}


A robótica móvel lida com o controle de veículos autônomos e semi-autônomos, tendo ênfase em problemas relacionados com o 
espaço em larga escala, que são regiões com espaços consideravelmente maiores que as observáveis pelo ponto de visão 
do robô. O espaço em larga escala é de extrema importância para um robô móvel, visto que afeta 
o seu movimento, compreensão e raciocínio nesta área, sendo estes três subproblemas essenciais para este campo de pesquisa
\cite{dudek_mobile}.

%\cite{nasa}
%É uma área de pesquisa interdisciplinar, consistindo de ...

\begin{comment}
% Retirado do livro do dudek
A mobile robot is a combination of various physical (hardware) and computational (soft-
ware) components. In terms of hardware components, a mobile robot can be considered
as a collection of subsystems for:
Locomotion: How the robot moves through its environment
Sensing: How the robot measures properties of itself and its environment
Reasoning: How the robot maps these measurements into actions
Communication: How the robot communicates with an outside operator
Later chapters consider the algorithms and representations that make these capabilities
possible, while this chapter concentrates on the underlying hardware, with special empha-
sis on locomotion for wheeled robots.
\end{comment}


%  No mean feat, this makes
%mobile robotics as interdisciplinary a field as there can be. To solve locomotion problems,
%the mobile roboticist must understand mechanism and kinematics, dynamics and control
%theory. To create robust perceptual systems, the mobile roboticist must leverage the fields
%of signal analysis and specialized bodies of knowledge such as computer vision to properly
%employ a multitude of sensor technologies. Localization and navigation demand knowl-
%edge of computer algorithms, information theory, artificial intelligence, a
  
\citeonline{Intro_auto} classifica os robôs móveis em duas categorias relacionadas à locomoção: 
\begin{itemize}
 
 \item Robôs terrestres (\textit{legged robots}): Tem como vantagem a manipulação de objetos e a locomoção em terrenos 
acidentados, mas tem alta complexidade mecânica e energética. A Figura \ref{fig:boston} mostra o 
\textit{Legged Squad Support Systems} (\sigla{LS3}{\textit{Legged Squad Support Systems}}) da Boston Dynamics, 
projetado para atuar nos mesmos terrenos acidentados utilizados por \textit{marines} e soldados norte-americanos, 
ajudando a carregar equipamentos \cite{bostondyn}. 
\begin{figure}[h]
 \centering
 \captionsetup{width=0.44\textwidth,font=footnotesize,textfont=bf}
 %\includegraphics[scale=0.6]{figuras/nasa.png}
 \includegraphics[scale=0.4]{figuras/bostondyn.png}
 \caption{Robô terrestre  L3S\label{fig:boston}}
 \vspace{-0.3cm}
 \caption*{Fonte: \cite{bostondyn}}
\end{figure}


\item Robôs com rodas (\textit{wheeled robots}): É o tipo de locomoção mais utilizado em robôs móveis e veículos. Normalmente o 
equilíbrio não é levado em consideração, visto que na maior parte dos projetos as rodas são consideradas em contato com o solo 
o tempo todo. O robô Sojourner da Figura \ref{fig:nasa} é um exemplo de robô com rodas.%\par
\end{itemize}

Na revisão bibliográfica a seguir são mostradas técnicas desenvolvidas para o sistema de navegação de robôs móveis autônomos.

%///////// AQUIIIIII

%\citeonline{ufrj} propôs o desenvolvimento de uma arquitetura híbrida
% ufrj -> Dissertação da UFRJ
O objetivo do trabalho de \citeonline{ufrj} foi o desenvolvimento de um sistema robótico autônomo em uma 
arquitetura híbrida de três camadas, composta pela implementação das camadas Planejador e Executivo. 
%O estudo de caso foi feito pela sistema robótico DORIS, um robô \textit{offshore} (no mar a uma certa distância 
%da orla) guiado por trilhos, 
O estudo de caso foi feito pela sistema robótico DORIS, um robô \textit{offshore}\footnote{\textit{offshore} 
significa estar afastado da costa; em alto mar.} 
%\footnotetext{\textit{offshore} é quando algo está localizado no mar, a uma certa distância 
%da costa (MELHORAR SIGNIFICADO)}
guiado por trilhos, desenvolvido pela COPPE/\sigla{UFRJ}{Universidade Federal do Rio de Janeiro}, 
em parceria com a Petrobras e a Statoil, para a inspeção de plataformas de petróleo. O veículo 
tem como funcionalidades a detecção de anomalias por vídeo, áudio, vibração, temperatura e por câmera de infravermelho e o 
mapeamento 3D do ambiente.

\begin{comment}
\citeonline{heinen} também propôs uma arquitetura de controle híbrida, integrando as técnicas de controle deliberativo e 
reativo em uma abordagem de três camadas: 
\begin{itemize}
 \item Deliberativa: Determina um trajeto até o objetivo e evita colisões com obstáculos já conhecidos;
 \item Vital: Utiliza de comportamentos reativos para guiar o robô ao seu objetivo e evitar colisões com obstáculos (sejam estes 
estáticos ou dinâmicos); 
  \item Funcional: Faz a integração das camadas vital e deliberativa, fornecendo parâmetros reativos para a camada vital.
\end{itemize}
O sistema de controle proposto foi implementado no simulador SimRob3D, o qual permite a utilização de modelos de ambiente 
tridimensionais, assim como sensoriais e cinemáticos, permitindo que estes possam ser alterados em tempo real.
\end{comment}

\citeonline{heinen} também propôs uma arquitetura de controle híbrida, integrando as técnicas de controle deliberativo e 
reativo em uma abordagem de três camadas: Deliberativa, a qual determina um trajeto até o objetivo e evita colisões com obstáculos 
já conhecidos, Vital, que utiliza de comportamentos reativos para guiar o robô ao seu objetivo e evitar colisões com obstáculos 
(sejam estes estáticos ou dinâmicos), e Funcional, que faz a integração das camadas vital e deliberativa, fornecendo parâmetros 
reativos para a camada vital. O sistema de controle proposto foi implementado no simulador SimRob3D, o qual permite a utilização de 
modelos de ambiente 
tridimensionais, assim como sensoriais e cinemáticos, permitindo que estes possam ser alterados em tempo real.


A pesquisa de \citeonline{pessin} se concentra na busca por soluções inteligentes aplicadas em robôs móveis autônomos visando a operação 
destes em ambientes dinâmicos. Através da aplicação de aprendizado de máquina, buscou-se uma nova visão sobre a operação destes 
dispositivos em três desafios da área: navegação, localização e operações com grupos de robôs. 
No estudo das operações com grupos de robôs, foi utilizada uma aplicação de combate a 
incêndios, com a avaliação por quatro técnicas: Algoritmos Genéticos, 
Otimização por Enxame de Partículas, \textit{Hill Climbing} e \textit{Simulated Annealing}. Na investigação sobre a navegação, é 
apresentado o desenvolvimento de um veículo autônomo de grande porte, funcional para ambientes externos. Relacionado com a localização, 
é mostrado um método que provê informações de localização para os robôs com base em dados obtidos por redes sem fio.



Nas Figuras \ref{fig:marcio}, \ref{fig:pololu} e \ref{fig:allan} são mostrados os dois protótipos desenvolvidos por \citeonline{alemao} e 
o de \citeonline{allan}, respectivamente, os quais já foram discutidos anteriormente. Na Figura \ref{fig:hirai} é mostrado o 
Cartisx04, robô seguidor de linha de \citeonline{Hirai}, um dos melhores do segmento mundialmente. 
Estes veículos irão fomentar a base de conhecimento deste trabalho.


\begin{comment}
%%% NÃO ESTÁ FUNCIONANDO!! DANGER
\begin{figure*}[t!]
   \centering
   \captionsetup{width=0.74\textwidth,font=footnotesize,textfont=bf}
    \begin{subfigure}[t]{.5\linewidth}
        \raggedright
        \includegraphics[width=7cm]{figuras/marcio1.png}
        \caption{\centering \label{fig:marcio}}
    \end{subfigure}
    %~\hspace{0.4cm}
    ~
    \begin{subfigure}[t]{0.5\linewidth}
        \raggedleft
        \includegraphics[width=7cm,height=7cm]{figuras/polulumod.png}
        \caption{ \label{fig:pololu}}
    \end{subfigure}[1ex]
    \vspace{0.4cm}
    ~\hspace{0.4cm}
    
    \begin{subfigure}[t]{0.2\linewidth}
        \centering
        \includegraphics[width=7cm,height=3cm]{figuras/allan.png}
        \caption{ \label{fig:allan}}
    \end{subfigure}
    ~\hspace{0.4cm}
    \begin{subfigure}[t]{0.3\linewidth}
        \centering
        \includegraphics[width=7cm,height=3cm,keepaspectratio]{figuras/Hirai.png}
        %\caption{Robô 3pi \label{fig:pololu}}
        \caption{ \label{fig:hirai}}
        %\caption*{Fonte: \cite[p.58]{alemao}}
    \end{subfigure}
    \caption{Robôs seguidores de linha: (a) Robô \textit{Alpha Project} \cite{alemao}; (b) Pololu 3pi modificado \cite{alemao}; 
(c) Protótipo de \citeonline{allan}; (d) Cartisx04 de \citeonline{Hirai}.}
\end{figure*}
\end{comment}


\begin{figure}[h]
    \centering
    \captionsetup{width=0.83\textwidth,font=footnotesize,textfont=bf}
    \begin{subfigure}[b]{0.4\textwidth}
        \includegraphics[width=\textwidth,height=0.18\textheight]{figuras/marcio1.png}
        \caption{\centering \label{fig:marcio}}
    \end{subfigure}
    ~ %add desired spacing between images, e. g. ~, \quad, \qquad, \hfill etc. 
      %(or a blank line to force the subfigure onto a new line)
    \begin{subfigure}[b]{0.4\textwidth}
	\centering
        \includegraphics[width=0.75\textwidth,height=0.18\textheight]{figuras/polulumod.png}
        \caption{\centering \label{fig:pololu}}
    \end{subfigure}
    
    \begin{subfigure}[b]{0.4\textwidth}
        \includegraphics[width=\textwidth,height=0.18\textheight]{figuras/allan.png}
        \caption{\centering \label{fig:allan}}
    \end{subfigure}
    % THE CAPTION PREVIOUSLY WAS HERE
    ~ %add desired spacing between images, e. g. ~, \quad, \qquad, \hfill etc. 
      %(or a blank line to force the subfigure onto a new line)
    \begin{subfigure}[b]{0.4\textwidth}
        \includegraphics[width=\textwidth,height=0.18\textheight]{figuras/Hirai.png}
        \caption{\centering \label{fig:hirai}}
    \end{subfigure}
    
    \caption{\label{fig:segLinha} Robôs seguidores de linha: (a) Robô \textit{Alpha Project} \cite{alemao}; 
    (b) Pololu 3pi modificado \cite{alemao}; (c) Protótipo de \citeonline{allan}; (d) Cartisx04 de \citeonline{Hirai}.}
\end{figure}


\begin{comment}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\vspace{1cm}
\section{Sistema embarcado}

Por mais que apresentem ser invisíveis, ....


%Segundo Li e Qual (sei lá? 2008), um sistema embarcado é \textit{Um sistema embarcado é um sistema BLABLABLA... continua}.
Sistemas embarcados são sistemas computacionais que integram \textit{harware} e \textit{software}, com o objetivo de 
rodar uma aplicação específica \cite{embedded}. Os sistemas embarcados são encontrados na forma de circuitos integrados 
\sigla{CI}{Circuitos Integrados}, o que possibilita que estes dispositivos tenham uma grande quantidade de aplicações (Melhorar ?). 

Os sistemas embarcados podem ser separados em duas categorias: Os de lógica reconfigurável e os sistemas microcontrolados.
xxxxxxxxxxxxxxxxxxx



Para (Stallings-arquitetura), o termo sistema embarcado combina de \textit{hardware} e \texit{software} de computador (fjdslfsjdj)


\subsection{Microcontroladores}

Os microcontroladores são dispositivos xxxxx (referenciar alguém).
São compostos por CPU, ADC xxxxxxxx xxxxxx.

\end{comment}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\vspace{1cm}
\section{Sistemas de Controle para robôs móveis} \label{cap:controle}

Para que o robô seja autônomo, %um dos requisitos para que este seja móvel, é necessário que este apresente uma resposta desejada para as 
é necessário que este apresente uma resposta desejada para as 
as mais diversas situações. 
%Para tanto se utiliza de um sistema de controle, que consoante a \citeonline{nise} consiste em subsistemas e 
%processos, conhecidos como plantas, dos quais se obtém uma saída com desempenho desejado para uma dada entrada. Na Figura 
%\ref{fig:basicdiag} é mostrado um sistema de controle em uma forma simplificada, em que aplicando-se uma entrada a este, obtêm-se uma 
%resposta.
Para tanto se utiliza de um sistema de controle, que consiste em subsistemas e processos, conhecidos como plantas, 
dos quais se obtém uma saída com desempenho desejado para uma dada entrada \cite{nise}. Na Figura 
\ref{fig:basicdiag} é mostrado o diagrama de blocos\footnote{Diagrama de blocos é uma representação gráfica do sistema que mostra o 
fluxo de sinais que ocorre entre os componentes deste.} de 
um sistema de controle em uma forma simplificada, em que aplicando-se uma entrada a este, obtêm-se uma 
resposta. 
%Duas medidas de desempenho importantes para os sistemas de controle são: A resposta transitória do sistema,,
%e o erro de estado estacionário, .

\begin{figure}[h]
 \centering
 \captionsetup{width=0.6\textwidth,font=footnotesize,textfont=bf}
 %\includegraphics[width=0.6\textwidth]{figuras/DiagramaNise.png}
 \includegraphics[width=0.6\textwidth]{figuras/DiagramaNise.png}
 \caption{Descrição de um sistema de controle \label{fig:basicdiag}}
  \vspace{-0.3cm}
 \caption*{Fonte: Adaptado de \cite[p.2]{nise}.}
\end{figure}


\begin{comment}
Segundo \citeonline{Intro_auto}, o controle de movimento de 
um sistema não-holomônico\footnote{Sistemas não-holomônicos são sistemas não integráveis} não é trivial, no entanto estão disponíveis 
soluções adequadas para contornar este contratempo:
\begin{itemize}
 \item Controle por malha aberta (\textit{Open loop control}): Não utiliza de sensores, logo o veículo segue uma trajetória descrita por 
 sua posição e velocidade como uma função de tempo e a sua posição não retorna (\textit{feedback}) para o controle da velocidade e 
 controle. Mesmo sendo de mais fácil implementação, apresenta várias restrições, como a impossibilidade de se adaptar 
 automaticamente ao ambiente caso aconteçam mudanças dinâmicas neste.
 \item Controle por Malha fechada (\textit{Closed loop control}): É uma abordagem mais apropriada para o controle de movimento, visto que 
os sensores são continuamente monitorados e os atuadores\footnote{Atuadores são dispositivos capazes de alterar 
o estado do sistema controlado com base em sinais de controle, como por exemplo os motores elétricos.} são ajustados com base nestes 
valores \cite{heinen}. 
\end{itemize}
\end{comment}

%\citeonline{nise} classifica os sitemas de controle em duas configurações principais:
Para \citeonline{nise} os sistemas de controle podem ser classificados em duas configurações principais:
\begin{itemize}
 \item Controle por malha aberta (\textit{Open loop control}): É a configuração mais simples, onde o sinal 
 de saída não exerce nenhuma ação de controle no sistema \cite{ogata}. Desta forma, um sistema de controle de malha aberta 
 não é medido e nem comparado com a entrada, como pode ser visto na Figura \ref{fig:Malhaaberta}, não sendo capaz de compensar 
 distúrbios que possam ser adicionados ao sistema \cite{nise}.
 
 \item Controle por Malha fechada (\textit{Closed loop control}): Nesta configuração, a saída ou a resposta influencia a entrada do 
 sistema \cite{controle}. Logo após a Resposta Desejada, na Figura \ref{fig:Malhafechada}, tem-se um ponto de soma, em que será feita 
 a soma algébrica dos sinais associados. % \citeonline{nise} diz que
 %este ponto de soma adiciona o sinal da entrada (também conhecido como referência) ao sinal 
 %da saída do sistema, o qual chega através de um caminho de retorno (\textit{feedback path}). 
 %
 %O erro do sistema é obtido subtraindo-se o 
 %sinal de saída pelo de entrada do sistema. Esta configuração permite que sejam compensados distúrbios no sistema, visto que se caso haja 
 %divergência entre as duas respostas, o sistema aciona a planta pelo erro
 Segundo \citeonline{ogata}, o sinal de erro atuante, que é a diferença entre o sinal de entrada e o sinal de realimentação (o qual é 
 calculado logo após o ponto de soma, como pode ser visto na Figura \ref{fig:controlador}), 
 realimenta o controlador que tende a minimizar o erro e deixar a saída com o valor desejado.
\end{itemize}


\begin{figure}[h]
    \centering
    \captionsetup{width=0.8\textwidth,font=footnotesize,textfont=bf}
    \begin{subfigure}[b]{0.8\textwidth}
	\centering
        \includegraphics[width=\textwidth,height=\textheight,keepaspectratio]{figuras/MalhaAberta.png}
        \caption{\centering \label{fig:Malhaaberta}}
    \end{subfigure}
    %~ 
    
    \begin{subfigure}[b]{0.8\textwidth}
	\centering
        \includegraphics[width=\textwidth,height=\textheight,keepaspectratio]{figuras/MalhaFechada.png}
        \caption{\centering \label{fig:Malhafechada}}
    \end{subfigure}
    
    %\caption{\label{fig:Malhas} Técnicas de controle: (a) Malha aberta; (b) Malha fechada \cite{Intro_auto}} 
    \caption{\label{fig:Malhas} Configurações de sistemas de controle: (a) Malha aberta; (b) Malha fechada \cite{controle}} 
\end{figure}


\subsection{Ações de controle}

Conforme \citeonline{ogata}, um controlador automático compara o valor de saída da planta com a entrada do sistema, 
determinando o desvio e produzindo um sinal de controle que reduzirá este desvio a um valor pequeno. É chamada de ação de controle a 
maneira pela qual o controlador produz o sinal de controle. Na Figura \ref{fig:controlador} é mostrado o diagrama de blocos 
de um sistema de controle, composto por um controlador automático, um atuador, uma planta e um sensor, o qual é 
o elemento de medição. Os atuadores são dispositivos capazes de alterar 
o estado do sistema controlado com base em sinais de controle, como os motores elétricos. O sensor é um elemento que 
converte a variável de saída em uma outra variável pertinente, que possa ser mensurável pelo sistema.

\begin{figure}[h!]
 \centering
 \captionsetup{width=0.8\textwidth,font=footnotesize,textfont=bf}
 \includegraphics[width=0.8\textwidth,height=0.5\textheight,keepaspectratio]{figuras/Controlador.png}
 \caption{Diagrama de blocos de um controlador automático \label{fig:controlador}}
 \vspace{-0.2cm}
 \caption*{Fonte: Adaptado de \cite[p.18]{ogata}.}
\end{figure}

\citeonline{ogata} classifica os controladores industriais de acordo com as suas ações de controle:
\begin{itemize}
 \item Controlador de duas posições ou \textit{on-off}; %(OBS.: TALVEZ DE PROBLEMA NESSE TEXTIT ANTERIOR)
 \item Controlador Proporcional;
 \item Controlador Integral;
 \item Controlador Proporcional-Integral (\sigla{PI}{Proporcional-Integral});
 \item Controlador Proporcional-Derivativo (\sigla{PD}{Proporcional-Derivativo});
 \item Controlador Proporcional-Integral-Derivativo (\sigla{PID}{Proporcional-Integral-Derivativo})
\end{itemize}

\subsubsection{Controlador \textit{on-off}}

Em controladores de duas posições ou \textit{on-off}, o elemento atuante tem somente duas posições, as quais são fixas, geralmente sendo 
\textit{on} (ligado) e \textit{off} (desligado) \cite{ogata}. Tem grande aplicabilidade em sistemas de controle industriais e 
domésticos, devido ao baixo custo e simplicidade de implementação.

Considerando-se o sinal de saída do controlador $u(t)$ % $ é indicativo para equação
e o sinal de erro atuante $e(t)$, o sinal $u(t)$ apresenta um valor máximo ou mínimo, caso o erro atuante seja negativo ou positivo, 
respectivamente. Assim, tem-se que:
\begin{comment}
\begin{align*}  %%Utiliza-se o align quando não deseja ter numeração nas equações
 u(t) = U_1, \quad para \ e(t) \ > \ 0, \\
 u(t) = U_2, \quad para \ e(t) \ < \ 0,
\end{align*}
\end{comment}
\begin{equation}
 u(t) = U_1, \quad para \ e(t) \ > \ 0, \\ 
\end{equation}
\begin{equation}
 u(t) = U_2, \quad para \ e(t) \ < \ 0,
\end{equation}

onde $U_1$ e $U_2$ são constantes.
Em problemas de controle mais complexos, se faz necessária a utilização de outros controladores, devido ao \textit{on-off} apresentar 
muitas oscilações e \textit{offset} (COLOCAR NOTA RODAPE PARA OFFSET).

\subsubsection{Controlador Proporcional}


Na ação de controle proporcional, a relação entre a saída do controlador $u(t)$ e o sinal de erro $e(t)$ 
é apenas um ganho: 
%A equação \ref{eq:prop} mostra a equação do controlador proporcional.

\begin{equation}\label{eq:prop}
 u(t) = K_pe(t),	
\end{equation}
em que $K_p$ é o ganho do controlador proporcional. 
Para \citeonline{controle} quanto maior o ganho, menor será o erro $e(t)$, no entanto o sistema pode perder estabilidade 
devido ao aumento do 
tempo de acomodação\footnote{Tempo de acomodação (\textit{settling time}) é o tempo para que a curva de resposta alcance 
valores em uma faixa (2\% a 5\%) em relação ao valor final, permanecendo nesta faixa interminavelmente \cite{ogata}.}.

\subsubsection{Controlador Integral}

Segundo \citeonline{ogata}, na ação de controle integral, o valor da saída $u(t)$ é alterado a uma taxa de variação proporcional 
ao sinal de erro atuante $e(t)$:

\begin{equation}
 %u(t) = K_i \int_{lower}^{upper}
 u(t) = K_i \int_{0}^{t}e(t)dt,
\end{equation}

em que $K_i$ é a constante de ganho integral. 

\subsubsection{Controlador Proporcional-Integral (PI)}

Para \citeonline{nise}, um controlador Proporcional-Integral pode ser chamado de compensador integral ideal, visto que 
as ações de controle Proporcional e Integral alimentam o erro e a integral do erro para a planta, respectivamente, desta forma 
tendendo a eliminar o erro em regime permanente\footnote{Segundo \citeonline{ogata} a resposta temporal de um sistema consiste em duas 
partes: da resposta transitória e da resposta estacionária ou em regime permanente}. 
A sua ação de controle é definida por: 

\begin{equation}
 u(t) = K_pe(t) + \frac{K_p}{T_i}\int_{0}^{t}e(t)dt,
\end{equation}
em que $T_i$ é chamado de tempo integrativo. 


\subsubsection{Controlador Proporcional-Derivativo (PD)}

%\citeonline{nise} denomina o controlador Proporcional-Derivativo um compensador derivativo ideal, o qual compreende as 
%ações proporcional, consistindo na alimentação do erro, e derivativa, a qual é proporcional à derivada do erro. 

Segundo \citeonline{controle}, as ações proporcional e derivativa deste controlador 
contribuem com o regime transitório, %\footnote{A resposta transitória de um sistema é aquela que vai do estado inicial ao final}, 
tendendo a aumentar a estabilidade do sistema e reduzir o tempo de acomodação. 
A ação de controle deste controlador é definida por:
\begin{equation}
 u(t) = K_pe(t) + K_pT_d\frac{de(t)}{dt}
\end{equation}
onde $T_d$ é chamado de tempo derivativo \cite{ogata}.


\subsubsection{Controlador Proporcional-Integral-Derivativo (PID)}

O controlador Proporcional-Integral-Derivativo reúne a ação das três ações de controle, atuando na melhoria do 
regime permanente e da resposta transitória. 
A equação do controlador é dada por:

\begin{equation}
 u(t) = K_pe(t) + \frac{K_p}{T_i}\int_{0}^{t}e(t)dt + K_pT_d\frac{de(t)}{dt}
\end{equation}
onde  $K_p$ é o ganho proporcional, $T_i$ é o tempo integrativo e $T_d$ é o tempo derivativo \cite{ogata}.


%%%%%%
%
%  Este aqui ta bacana:
%  http://www.dca.ufrn.br/~meneghet/FTP/Controle/scv20071.pdf
%
%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\vspace{1cm}
\section{Sistemas a Eventos Discretos} \label{cap:sed}

%O sistema de controle híbrido a ser implementado é composto pelo sistema de controle discreto, 
%Os sistemas podem ser classificados em relação à natureza do espaço de estados selecionado, podendo ser 

Para \citeonline{cassandras}, os sistemas podem ser classificados em duas categorias quanto à natureza do espaço de estados 
selecionado: 
\begin{itemize}
 \item Estado contínuo: O espaço de estados $X$ é uma continuidade, compreendendo todos os vetores $n$-dimensionais de números reais ou 
 complexos, eventualmente;
 
 \item Estado discreto: O espaço de estados é um conjunto discreto. As variáveis de estado deslocam-se em pontos discretos no tempo, de 
 um valor estado discreto para outro.
\end{itemize}

\citeonline{torrico} define um Sistema a Eventos Discretos (\sigla{SED}{Sistema a Eventos Discretos}) 
como um sistema dinâmico a estado discreto que evolui à proporção assíncrona de eventos. %Um evento, segundo \citeonline{teixeira}, 
Eventos são transições discretas, como a chegada de uma peça em uma esteira e a transmissão de uma mensagem em uma comunicação, por 
exemplo.

\subsection{Modelagem do SED}







%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\vspace{1cm}
\section{Regras da Robocore para robôs seguidores de linha} \label{cap:regras_comp}

Na Seção \ref{cap:espc_robocore} e Seção \ref{cap:perc_robocore} são apresentadas as regras relacionadas à 
especificação dos robôs e do percurso, respectivamente, 
para a categoria robô seguidor de linha Pro, em eventos realizados pela \citeonline{RegrasRobocore}.

\vspace{1cm}
\subsection{Especificação dos robôs} \label{cap:espc_robocore}

Para competir na categoria seguidor de linha, os robôs devem ser totalmente autônomos, não podendo ser controlados 
externamente por fio ou por rádio, com exceção para quando este for iniciado. Todos os componentes devem ser embarcados. A 
dimensão máxima permitida é de 250mm   de   comprimento,   250mm   de   largura   e   200mm   de   altura. Não é 
permitido alterar as dimensões do robô durante a partida, assim como alterar o \textit{hardware} ou \textit{software} 
durante a tomada de tempo. Também não é permitida a utilização de mecanismo de sucção, 
que vise aumentar a força normal do robô em relação ao solo.

\vspace{1cm}
\subsection{Especificações do Percurso} \label{cap:perc_robocore}

A pista é feita de uma ou mais placas de \sigla{MDF}{\textit{Medium-Density Fiberboard}} revestidas com uma manta de 
borracha preta, assim, eventualmente serão necessárias emendas para compor a área do percurso. Os robôs, no entanto, 
devem ser capazes de superar os desníveis decorrentes das emendas, que são de aproximadamente 1mm.
Uma linha branca, de 19$\pm$1mm, indica o percurso. Esta linha pode cruzar sobre ela mesma, tendo, neste caso, 
um ângulo de intersecção de 90$\pm$5º (graus), com os 250mm antes e depois do cruzamento sendo retas (conforme pode 
ser visto na Figura \ref{fig:percurso1}). O circuito é totalmente plano, porém podem ocorrer 
inclinações de até 5º.\par



\begin{figure}[h!]
 \centering
 \captionsetup{width=0.37\textwidth,font=footnotesize,textfont=bf}
 \includegraphics[scale=0.6]{figuras/Percurso1.png}
 \caption{Intersecções no percurso \label{fig:percurso1}}
 \vspace{-0.7cm}
 \caption*{Fonte: Disponível em \cite[p.4]{RegrasRobocore}.}
\end{figure}
%\captionsetup{width=0.50\textwidth, font=footnotesize, textfont=bf}






A área que se estende entre o ponto de partida e o ponto de chegada, considerando 200mm da linha e 200mm a esquerda da linha
 é denominada ``área de partida-chegada'', conforme pode ser visto na Figura \ref{fig:percurso2}.\par

\vspace{0.6cm}
\begin{figure}[h!]
 \centering
 \captionsetup{width=0.55\textwidth,font=footnotesize,textfont=bf}
 \includegraphics[scale=0.5]{figuras/Percurso2.png}
 \caption{Área de partida-chegada \label{fig:percurso2}}
  \vspace{-0.3cm}
 \caption*{Fonte: Disponível em \cite[p.4]{RegrasRobocore}.}
\end{figure}



%\captionsetup{width=0.50\textwidth, font=footnotesize, textfont=bf}
Quando houver um arco (intersecção entre a faixa branca), o raio deste é de pelo menos 100mm. Quando houver uma 
alteração na curvatura do percurso, deve haver uma marcação no lado esquerdo da linha, como pode ser visto na Figura 
\ref{fig:percurso4}.\par

\begin{figure}[t!]
 \centering
 \captionsetup{width=0.68\textwidth,font=footnotesize,textfont=bf}
 \includegraphics[scale=0.6]{figuras/Percurso4.png}
 \caption{Marcações de sinalização de curvatura \label{fig:percurso4}}
 \vspace{-0.3cm}
 \caption*{Fonte: Disponível em \cite[p.4]{RegrasRobocore}.}
\end{figure}


















